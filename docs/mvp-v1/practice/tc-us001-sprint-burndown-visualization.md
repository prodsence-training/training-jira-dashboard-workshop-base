# Test Cases: US001 Sprint 燃盡圖視覺化與進度警示

> **檔案編號**: TC-US001-sprint-burndown-visualization  
> **建立日期**: 2025-08-28  
> **測試目標**: 驗證 Sprint 燃盡圖視覺化功能與進度警示系統  
> **對應 User Story**: [US001](../example/spec01-us01-sprintprogress.md#us-001-sprint-燃盡圖視覺化)  
> **對應 Acceptance Criteria**: [AC-001](../example/spec01-us01-ac.md)  
> **對應 Feature Spec**: [SPEC-001](../example/spec01-progress-v2.md)

## 📋 測試案例總覽

基於 User Story US001 和相關的 Acceptance Criteria，本文件包含以下測試類型：
- **功能測試**：核心燃盡圖顯示功能
- **視覺化測試**：健康狀態色彩警示
- **邊界測試**：時間邊界和極值處理
- **異常測試**：資料異常和錯誤處理

---

## 🟢 功能測試（正常流程）

### TC-001: Sprint 燃盡圖正常顯示與健康狀態

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-001 |
| **測試目標** | 驗證 Sprint 進度正常時，燃盡圖和健康狀態正確顯示 |
| **相關 User Story** | US001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC01: Sprint 燃盡圖正常顯示與健康狀態 |
| **測試前置條件** | 1. Google Sheets 中存在有效的 Sprint 資料<br>2. Sprint 為期 10 個工作日，總故事點數 20 SP<br>3. 今天是第 5 天，已完成 10 SP（符合理想進度）<br>4. 瀏覽器已開啟儀表板頁面 |
| **測試步驟** | 1. 開啟儀表板首頁 (http://localhost:3000)<br>2. 等待頁面完全載入<br>3. 觀察 Sprint 燃盡圖區域<br>4. 檢查進度條顏色和百分比<br>5. 查看右上角健康狀態 badge<br>6. 驗證完成率統計資訊 |
| **預期結果** | 1. 燃盡圖完整顯示，包含理想線（灰色虛線）<br>2. 實際線顯示綠色，從 Day 1 到 Day 5<br>3. 進度條顯示綠色，50% 完成<br>4. 右上角顯示綠色 "正常進度" badge<br>5. 顯示 "已完成: 10 SP \| 剩餘: 10 SP \| 總計: 20 SP"<br>6. 完成率顯示 "50% 完成" |
| **測試資料** | Sprint 天數: 10 天<br>總故事點數: 20 SP<br>當前第 5 天<br>已完成: 10 SP |
| **測試類型** | 功能測試（正常流程） |
| **自動化程度** | 全自動（適合 E2E 測試工具如 Playwright） |

---

### TC-002: 進度落後黃色警示狀態

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-002 |
| **測試目標** | 驗證 Sprint 進度稍微落後時，系統顯示黃色警示狀態 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC02: 進度落後時的黃色警示狀態 |
| **測試前置條件** | 1. Sprint 為期 10 個工作日，總故事點數 20 SP<br>2. 今天是第 6 天，理想應完成 12 SP<br>3. 實際只完成 8 SP（落後 20%，在 10-25% 範圍內）<br>4. 系統已連接到 Google Sheets 資料源 |
| **測試步驟** | 1. 開啟儀表板頁面<br>2. 等待燃盡圖資料載入<br>3. 檢查燃盡圖實際線顏色<br>4. 觀察進度條顏色變化<br>5. 確認右上角健康狀態 badge<br>6. 驗證是否有適當的警示提醒 |
| **預期結果** | 1. 燃盡圖實際線顯示黃色<br>2. 進度條顯示黃色，40% 完成<br>3. 右上角健康狀態 badge 顯示黃色 "稍微落後"<br>4. 系統提供適當的警示提醒訊息<br>5. 理想線仍為灰色虛線不變<br>6. 完成率統計準確顯示當前狀態 |
| **測試資料** | Sprint 天數: 10 天<br>總故事點數: 20 SP<br>當前第 6 天<br>理想完成: 12 SP<br>實際完成: 8 SP |
| **測試類型** | 功能測試（警示流程） |
| **自動化程度** | 全自動 |

---

### TC-003: 嚴重落後紅色危險警示

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-003 |
| **測試目標** | 驗證 Sprint 進度嚴重落後時，系統顯示紅色危險警示 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC03: 嚴重落後時的紅色危險警示 |
| **測試前置條件** | 1. Sprint 為期 10 個工作日，總故事點數 20 SP<br>2. 今天是第 8 天，理想應完成 16 SP<br>3. 實際只完成 10 SP（落後 30%，超過 25% 閾值）<br>4. 資料已在 Google Sheets 中更新 |
| **測試步驟** | 1. 重新整理儀表板頁面<br>2. 等待最新資料同步<br>3. 檢查燃盡圖整體視覺效果<br>4. 觀察進度條和健康狀態變化<br>5. 確認危險警示的明顯性<br>6. 測試 hover 互動效果 |
| **預期結果** | 1. 燃盡圖實際線顯示紅色<br>2. 進度條顯示紅色，50% 完成<br>3. 右上角健康狀態 badge 顯示紅色 "嚴重落後"<br>4. 系統提供明顯的危險警示<br>5. 警示訊息內容清楚指出嚴重性<br>6. 視覺效果足夠引起注意 |
| **測試資料** | Sprint 天數: 10 天<br>總故事點數: 20 SP<br>當前第 8 天<br>理想完成: 16 SP<br>實際完成: 10 SP |
| **測試類型** | 功能測試（危險警示） |
| **自動化程度** | 全自動 |

---

## ⚡ 邊界測試（極值與邊界條件）

### TC-004: 燃盡圖時間邊界正確處理

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-004 |
| **測試目標** | 驗證實際燃盡線只顯示到當前工作日，未來日期正確處理 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC04: 燃盡圖時間邊界正確處理 |
| **測試前置條件** | 1. Sprint 為期 10 個工作日<br>2. 今天是第 8 個工作日<br>3. 已有 8 天的實際進度資料<br>4. Day 9 和 Day 10 屬於未來日期 |
| **測試步驟** | 1. 開啟燃盡圖頁面<br>2. 檢查理想線的完整性（Day 1 到 Day 10）<br>3. 驗證實際線只顯示到 Day 8<br>4. 確認 Day 9 和 Day 10 沒有實際數據點<br>5. hover 未來日期的數據點<br>6. 檢查 tooltip 顯示內容 |
| **預期結果** | 1. 理想線完整顯示 Day 1 到 Day 10<br>2. 實際線只顯示 Day 1 到 Day 8 的數據<br>3. Day 9 和 Day 10 不顯示實際數據點<br>4. hover 未來日期時顯示 "實際剩餘: 未來日期"<br>5. 時間軸正確標示所有工作日<br>6. 圖表邊界清楚區分已知和未知區域 |
| **測試資料** | Sprint 總天數: 10 天<br>當前工作日: 第 8 天<br>未來日期: Day 9, Day 10 |
| **測試類型** | 邊界測試 |
| **自動化程度** | 半自動（需要手動驗證 hover 效果） |

---

### TC-005: Sprint 第一天顯示處理

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-005 |
| **測試目標** | 驗證 Sprint 開始第一天的正確顯示邏輯 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC06: Sprint 時間邊界處理（第一天場景） |
| **測試前置條件** | 1. 今天是 Sprint 的第 1 天<br>2. 總故事點數為 20 SP<br>3. 尚未有任何完成的故事點數<br>4. Sprint 資料已初始化 |
| **測試步驟** | 1. 在 Sprint 第一天開啟儀表板<br>2. 檢查完成率顯示<br>3. 觀察燃盡圖初始狀態<br>4. 確認進度條狀態<br>5. 驗證健康狀態顯示 |
| **預期結果** | 1. 完成率顯示 "0% 完成"<br>2. 燃盡圖只顯示理想線的起始點<br>3. 實際線從起始點開始（20 SP）<br>4. 進度條為空白狀態<br>5. 健康狀態顯示正常（因為剛開始） |
| **測試資料** | Sprint 第 1 天<br>總故事點數: 20 SP<br>已完成: 0 SP |
| **測試類型** | 邊界測試（起始狀態） |
| **自動化程度** | 全自動 |

---

### TC-006: Sprint 最後一天處理

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-006 |
| **測試目標** | 驗證 Sprint 最後一天的顯示和警示邏輯 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC06: Sprint 時間邊界處理（最後一天場景） |
| **測試前置條件** | 1. 今天是 Sprint 的最後一天（第 10 天）<br>2. 總故事點數 20 SP<br>3. 已完成 18 SP，剩餘 2 SP<br>4. 進度稍微落後但接近完成 |
| **測試步驟** | 1. 在 Sprint 最後一天查看儀表板<br>2. 檢查完成率顯示<br>3. 確認剩餘工作提醒<br>4. 觀察風險警示狀態<br>5. 驗證燃盡圖完整性 |
| **預期結果** | 1. 完成率顯示 "90% 完成"<br>2. 顯示剩餘工作提醒 "剩餘 2 SP 待完成"<br>3. 如果進度落後應顯示明顯的風險警示<br>4. 燃盡圖實際線顯示完整的 10 天資料<br>5. 健康狀態反映最終完成情況 |
| **測試資料** | Sprint 第 10 天（最後一天）<br>總故事點數: 20 SP<br>已完成: 18 SP<br>剩餘: 2 SP |
| **測試類型** | 邊界測試（結束狀態） |
| **自動化程度** | 全自動 |

---

## ❌ 異常測試（錯誤處理）

### TC-007: 空資料或無效資料處理

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-007 |
| **測試目標** | 驗證 Google Sheets 資料為空或無效時的錯誤處理機制 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC05: 空資料或無效資料處理 |
| **測試前置條件** | 1. Google Sheets 中沒有 Sprint 資料<br>2. 或總故事點數為 0<br>3. 或無法連接到 Google Sheets<br>4. 網路連線正常但資料源異常 |
| **測試步驟** | 1. 模擬 Google Sheets 資料為空的情況<br>2. 開啟儀表板頁面<br>3. 等待載入過程完成<br>4. 檢查錯誤訊息顯示<br>5. 確認頁面不會崩潰<br>6. 測試重新載入按鈕功能 |
| **預期結果** | 1. 顯示友善的錯誤訊息 "無法載入 Sprint 資料，請檢查資料來源"<br>2. 燃盡圖區域顯示占位符<br>3. 完成率顯示 "資料載入中..."<br>4. 提供重新載入按鈕<br>5. 頁面結構保持完整，不會出現白畫面<br>6. 錯誤狀態下仍可導航到其他頁面 |
| **測試資料** | 空資料集或無效資料 |
| **測試類型** | 異常測試（資料異常） |
| **自動化程度** | 半自動（需要手動模擬資料異常） |

---

## 📊 測試執行計畫

## 🎯 精確性測試

### TC-009: 燃盡圖資料點精確計算

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-US001-009 |
| **測試目標** | 驗證燃盡圖理想線和實際線的數學計算精確性 |
| **相關 User Story** | US001: Sprint 燃盡圖視覺化與進度警示 |
| **相關 AC 場景** | AC07: 燃盡圖資料點精確性 |
| **測試前置條件** | 1. Sprint 為期 10 天<br>2. 總故事點數為 20 SP<br>3. 每天都有進度更新資料<br>4. 測試資料集包含完整的 10 天資料 |
| **測試步驟** | 1. 準備完整的 10 天測試資料<br>2. 開啟燃盡圖頁面<br>3. 驗證理想線計算：<br>   - 第 1 天：20 SP<br>   - 第 5 天：10 SP<br>   - 第 10 天：0 SP<br>4. 檢查理想線是否為直線遞減<br>5. 驗證實際線每個資料點的準確性<br>6. 確認累積完成故事點數計算正確 |
| **預期結果** | 1. 理想線第 1 天顯示 20 SP<br>2. 理想線第 5 天顯示 10 SP<br>3. 理想線第 10 天顯示 0 SP<br>4. 理想線呈現完美的直線遞減<br>5. 實際線每個資料點對應該日的累積完成故事點數<br>6. 實際線準確反映每日的進度變化<br>7. 週末或非工作日正確處理（不計入工作天數） |
| **測試資料** | Sprint 天數: 10 天<br>總故事點數: 20 SP<br>每日進度資料: 完整 10 天<br>理想進度: 每天 2 SP |
| **測試類型** | 精確性測試（數學計算） |
| **自動化程度** | 全自動（適合單元測試） |

---

##  測試執行計畫

### 測試執行順序

| 階段 | 測試案例 | 執行順序 | 依賴關係 |
|------|----------|----------|----------|
| **基礎功能** | TC-001, TC-002, TC-003 | 優先執行 | 需要穩定的資料源 |
| **邊界條件** | TC-004, TC-005, TC-006 | 第二階段 | 依賴基礎功能通過 |
| **異常處理** | TC-007 | 第三階段 | 獨立執行 |

### 自動化測試建議

#### 單元測試 (Jest)
- 健康狀態計算邏輯
- 日期和時間處理函數

#### 整合測試 (React Testing Library)
- 燃盡圖組件渲染
- 進度條顏色同步
- 健康狀態 badge 顯示

#### E2E 測試 (Playwright)
- TC-001: 正常流程完整測試
- TC-002, TC-003: 警示狀態測試
- TC-004: 時間邊界測試

### 測試環境需求

- **開發環境**: 本地 Docker 環境
- **測試資料**: Google Sheets 測試 sheet
- **瀏覽器**: Chrome, Firefox, Safari

---

## 🔗 相關文件

| 文件類型 | 檔案名稱 | 用途 |
|----------|----------|------|
| **User Story** | [spec01-us01-sprintprogress.md](../example/spec01-us01-sprintprogress.md) | 需求來源 |
| **Acceptance Criteria** | [spec01-us01-ac.md](../example/spec01-us01-ac.md) | 驗收標準 |
| **Feature Spec** | [spec01-progress-v2.md](../example/spec01-progress-v2.md) | 功能規格 |
| **測試指引** | [testcase-guide.md](../../guides/testcase-guide.md) | 撰寫參考 |

---

## 📝 測試記錄

| 日期 | 執行者 | 通過案例 | 失敗案例 | 備註 |
|------|--------|----------|----------|------|
| 2025-08-28 | 測試團隊 | - | - | 測試案例建立完成，等待執行 |

> **下一步**: 建立自動化測試腳本，設定 CI/CD Pipeline 中的測試執行流程
